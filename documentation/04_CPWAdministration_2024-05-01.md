# Administering the Comparative Pathology Workbench (CPW) #

This document describes how to administer the CPW software system with new Image Sources and how to link CPW Users with WordPress Users.

Mike Wicks

1<sup>st</sup> May 2024


##Workbench Configuration##

Configuration of the Comparative Pathology Workbench (CPW) is achieved by using a superuser account.


##Configure the CPW Environment Record##

The CPW has an Environment record which may need configuring:

| **Field** | **Description** |
| --------------------- | -------------------------------------------- |
| **Name** | **CPW** (**MANDATORY!**) |
| **Location** | **DEVELOPMENT** or CZI or CANADA or COELIAC |
| **Protocol** | http |
| **Web Root** | workbench-czi-cpw.mvm.ed.ac.uk/protected |
| | (The URL of the Web Root for all documents and images referenced by the CPW, typically "localhost:8888/some_folder") |
| **(Full Web Root)** | http://workbench-czi-cpw.mvm.ed.ac.uk/protected |
| **Document Root** | /home/ehgcap/WWW/private_media |
| | (The complete Path of the Web Root Folder used for all documents and images referenced by the CPW, typically "/Library/WebServer/Documents/some_folder/") |
| **NGINX Private Location** | private_media |
| | (Not relevant in a development setting) |
| **WordPress Web Root** | workbench-czi-cpw.mvm.ed.ac.uk/wordpress |
| | (The URL of the WordPress server used by the CPW -- typically in a development setting, this will be "localhost/my-wordpress" or similar) |
| **WordPress Active?** | True or False |
| **From Email** | The Comparative Pathology Workbench (CZI) Team \<edgutcellatlas-cpw@mlist.is.ed.ac.uk\>) |
| | (Not that relevant in a development setting as all emails are written out to a file instead.) |
| **Date Format** | %A, %B %e, %Y |
| **Minimum Cell Height** | 75 |
| **Maximum Cell Height** | 450 |
| **Minimum Cell Height** | 75 |
| **Maximum Cell Height** | 450 |
| **Minimum Cell Width** | 75 |
| **Maximum Cell Width** | 450 |
| **Maximum Initial Columns** | 10 |
| **Minimum Initial Columns** | 1 |
| **Maximum Initial Rows** | 10 |
| **Minimum Initial Rows** | 1 |
| **Maximum REST Columns** | 1000 |
| **Minimum REST Columns** | 3 |
| **Maximum REST Rows** | 1000 |
| **Minimum REST Rows** | 3 |
| **Maximum Bench Count** | 10 |
| **Maximum Collection Count** | 10 |                                           
| **OMERO Gateway** | BLITZ |
| **OMERO Gateway Port** | 4064 |
| **OMERO Gateway Pagination** | 36 |                                           


##WordPress Server Functionality within the CPW##

The CPW creates, updates, and deletes Blog Posts on an associated WordPress instance whenever new Benches are created and deleted, and Cells are updated with Images.

For the system to converse with the associated WordPress instance, the CPW needs updating with Credentials for each user.


###Adding WordPress Credentials###

For each User of the Workbench, there must be matching WordPress credentials.

Add matching Credentials by going to "**Authorisation**", "**Blog Credentials**" menu option.

From your WordPress instance, you will need to supply:

-   The "**User Name**",

-   The "**WordPress ID**"

-   The "**Application Password**"

    -   (This password is generated by Editing the relevant user within WordPress).


##Adding Image Sources##

For the CPW to access an Image Source, it must be supplied with the connection details of the image source.

New Image Sources are added on the Search Sources Page.

For each new Source of Images, you must supply:

-   A Name for the Server

-   A URL of the server

-   Some Credentials on the server

    -   (eg. User id and Password)

-   A Type

-   Specify whether the source is Accessible.

    -   (True means Credentials are required, False, they are not)
