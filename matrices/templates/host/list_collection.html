{% extends 'includes/base.html' %}

{% load custom %}

{% load static %}

{% block content %}


<!-- Breadcrumb Menu -->

<div>

	<ul class="my-breadcrumb">
		
		<li>
			<a href="{% url 'home' %}">Home</a>
		</li>
	
		<li>
			Collections
		</li>
	
	</ul>

</div>


<!-- Tab links -->

<div class="tab">

    <button class="tablinks" onclick="openTab(event, 'all_collections')" id="defaultOpen">All Collections</button>

    <button class="tablinks" onclick="openTab(event, 'my_collections')">My Collections</button>

</div>

	
<!-- Main Data Panel -->

<div class="standard-grid-container">

	<div class="standard-grid-item">
	</div>

	<div class="standard-grid-item">

		<div id="my_collections" class="tabcontent">

		    <h1>Browse MY Collections</h1>

    		<p>Browse the list of MY Collections</p>

	    	<hr>

		    <br />

{% if my_collection_list %}

	{% for my_collection in my_collection_list %}
	
		{% if forloop.first %}
	
    		<table>
	    		<tr>
		    		<th width="300px">Action</th>
			    	<th width="50px">Id:</th>
				    <th width="350px">Title:</th>
    				<th width="150px">Images:</th>
	    			<th width="150px">Owner:</th>
		    		<th width="150px">Active?</th>
			    	<th width="150px">Authority:</th>
    			</tr>
	
	    		<tr>
		    		<td>&nbsp;</td>
			    	<td>&nbsp;</td>
				    <td>&nbsp;</td>
    				<td>&nbsp;</td>
    				<td>&nbsp;</td>
		    		<td>&nbsp;</td>
    			</tr>

		{% endif %}
	
	    		<tr>

		{% if credential_flag == '' %}

		    		<td>&nbsp;</td>

		{% else %}

			    	<td>

			{% if my_collection.authorisation_authority == 'VIEWER' %}

				    	<a href="{% url 'view_collection' my_collection.collection_id %}"><button class="button button-view"><i class="fa fa-eye"></i></button></a>
				    	
				    	<a href="{% url 'detail_collection' my_collection.collection_id %}"><button class="button button-info"><i class="fa fa-info"></i></button></a>

			{% endif %}
	
			{% if my_collection.authorisation_authority == 'OWNER' %}

					    <a href="{% url 'view_collection' my_collection.collection_id %}"><button class="button button-view"><i class="fa fa-eye"></i></button></a>

					    <a href="{% url 'detail_collection' my_collection.collection_id %}"><button class="button button-info"><i class="fa fa-info"></i></button></a>

					    <a href="{% url 'edit_collection' my_collection.collection_id %}"><button class="button button-edit"><i class="fa fa-edit"></i></button></a>

					    <a href="{% url 'delete_collection' my_collection.collection_id %}" onclick="return confirm('Are you sure you want to DELETE this COLLECTION?')"><button class="button button-delete"><i class="fa fa-trash"></i></button></a>

					    <a href="{% url 'list_collection_collection_authorisation' my_collection.collection_id %}"><button class="button button-auth"><i class="fa fa-universal-access"></i></button></a>

		        {% if my_collection.collection_active == True %}

			        {% if my_collection.collection_owner == credential_flag %}
		        
					    <button class="button button-delete"><i class="fa fa-bell"></i></button>

					{% else %}
	
					{% endif %}
				
				{% else %}
	
			        {% if my_collection.collection_owner == credential_flag %}
		        
					    <a href="{% url 'activate_collection' my_collection.collection_id %}" onclick="return confirm('Are you sure you want to ACTIVATE this COLLECTION?')"><button class="button button-add"><i class="fa fa-bell"></i></button></a>

					{% else %}
	
					{% endif %}

				{% endif %}
				
			{% endif %}
	
			{% if my_collection.authorisation_authority == 'ADMIN' %}
			
			            <a href="{% url 'view_collection' my_collection.collection_id %}"><button class="button button-view"><i class="fa fa-eye"></i></button></a>

					    <a href="{% url 'detail_collection' my_collection.collection_id %}"><button class="button button-info"><i class="fa fa-info"></i></button></a>

					    <a href="{% url 'edit_collection' my_collection.collection_id %}"><button class="button button-edit"><i class="fa fa-edit"></i></button></a>

					    <a href="{% url 'delete_collection' my_collection.collection_id %}" onclick="return confirm('Are you sure you want to DELETE this COLLECTION?')"><button class="button button-delete"><i class="fa fa-trash"></i></button></a>

					    <a href="{% url 'list_collection_collection_authorisation' my_collection.collection_id %}"><button class="button button-auth"><i class="fa fa-universal-access"></i></button></a>
	
		        {% if my_collection.collection_active == True %}

			        {% if my_collection.collection_owner == credential_flag %}
		        
					    <a href="{% url 'activate_collection' my_collection.collection_id %}" onclick="return confirm('Are you sure you want to ACTIVATE this COLLECTION?')"><button class="button button-add"><i class="fa fa-bell"></i></button></a>

					{% else %}
	
					{% endif %}
				
				{% else %}
	
			        {% if my_collection.collection_owner == credential_flag %}
		        
					    <button class="button button-delete"><i class="fa fa-bell"></i></button>

					{% else %}
	
					{% endif %}

				{% endif %}
				
			{% endif %}
	
				    </td>

		{% endif %}

				    <td>{{ my_collection.collection_id }}</td>
    				<td>{{ my_collection.collection_title }}</td>
	    			<td>{{ my_collection.collection_image_count }}</td>
		    		<td>{{ my_collection.collection_owner }}</td>
			    	<td>{{ my_collection.collection_active }}</td>
				    <td>{{ my_collection.authorisation_authority }}</td>

    			</tr>

		{% if forloop.last %}
	
	    		<tr>

		    		<td>&nbsp;</td>
			    	<td>&nbsp;</td>
				    <td>&nbsp;</td>
    				<td>&nbsp;</td>
	    			<td>&nbsp;</td>
		    		<td>&nbsp;</td>

			    </tr>

    			<tr>

			{% if credential_flag %}
	
	    			<td>
		    			<a href="{% url 'new_collection' %}"><button class="button button-add"><i class="fa fa-plus"></i></button></a>
			    	</td>

			{% else %}

				    <td>&nbsp;</td>

			{% endif %}

    				<td>&nbsp;</td>
	    			<td>&nbsp;</td>
		    		<td>&nbsp;</td>
			    	<td>&nbsp;</td>

    			</tr>

	    	</table>

		{% endif %}
	
	{% endfor %}

{% else %}

    		<p>No Collections are available.</p>

	{% if credential_flag %}
	
	    	<p>
		    	<a href="{% url 'new_collection' %}"><button class="button button-add"><i class="fa fa-plus"></i></button></a>
    		</p>

	{% else %}

	    	<p>You are not authorised to add Collections yet!</p>

	{% endif %}

{% endif %}

    	</div>

		<div id="all_collections" class="tabcontent">

		    <h1>Browse ALL Collections</h1>

    		<p>Browse the list of ALL Collections</p>

	    	<hr>

		    <br />

{% if collection_list %}

	{% for collection in collection_list %}
	
		{% if forloop.first %}
	
    		<table>
	    		<tr>
		    		<th width="300px">Action</th>
			    	<th width="50px">Id:</th>
				    <th width="350px">Title:</th>
    				<th width="150px">Images:</th>
	    			<th width="150px">Owner:</th>
		    		<th width="150px">Active?</th>
			    	<th width="150px">Authority:</th>
    			</tr>
	
	    		<tr>
		    		<td>&nbsp;</td>
			    	<td>&nbsp;</td>
				    <td>&nbsp;</td>
    				<td>&nbsp;</td>
    				<td>&nbsp;</td>
		    		<td>&nbsp;</td>
    			</tr>

		{% endif %}
	
	    		<tr>

		{% if credential_flag == '' %}

		    		<td>&nbsp;</td>

		{% else %}

			    	<td>

			{% if collection.authorisation_authority == 'VIEWER' %}

				    	<a href="{% url 'view_collection' collection.collection_id %}"><button class="button button-view"><i class="fa fa-eye"></i></button></a>
				    	
				    	<a href="{% url 'detail_collection' collection.collection_id %}"><button class="button button-info"><i class="fa fa-info"></i></button></a>

			{% endif %}
	
			{% if collection.authorisation_authority == 'OWNER' %}

					    <a href="{% url 'view_collection' collection.collection_id %}"><button class="button button-view"><i class="fa fa-eye"></i></button></a>

					    <a href="{% url 'detail_collection' collection.collection_id %}"><button class="button button-info"><i class="fa fa-info"></i></button></a>

					    <a href="{% url 'edit_collection' collection.collection_id %}"><button class="button button-edit"><i class="fa fa-edit"></i></button></a>

					    <a href="{% url 'delete_collection' collection.collection_id %}" onclick="return confirm('Are you sure you want to DELETE this COLLECTION?')"><button class="button button-delete"><i class="fa fa-trash"></i></button></a>

					    <a href="{% url 'list_collection_collection_authorisation' collection.collection_id %}"><button class="button button-auth"><i class="fa fa-universal-access"></i></button></a>

		        {% if collection.collection_active == True %}

			        {% if collection.collection_owner == credential_flag %}
		        
					    <button class="button button-delete"><i class="fa fa-bell"></i></button>

					{% else %}
	
					{% endif %}
				
				{% else %}
	
			        {% if collection.collection_owner == credential_flag %}
		        
					    <a href="{% url 'activate_collection' collection.collection_id %}" onclick="return confirm('Are you sure you want to ACTIVATE this COLLECTION?')"><button class="button button-add"><i class="fa fa-bell"></i></button></a>

					{% else %}
	
					{% endif %}

				{% endif %}
				
			{% endif %}
	
			{% if collection.authorisation_authority == 'ADMIN' %}
			
			            <a href="{% url 'view_collection' collection.collection_id %}"><button class="button button-view"><i class="fa fa-eye"></i></button></a>

					    <a href="{% url 'detail_collection' collection.collection_id %}"><button class="button button-info"><i class="fa fa-info"></i></button></a>

					    <a href="{% url 'edit_collection' collection.collection_id %}"><button class="button button-edit"><i class="fa fa-edit"></i></button></a>

					    <a href="{% url 'delete_collection' collection.collection_id %}" onclick="return confirm('Are you sure you want to DELETE this COLLECTION?')"><button class="button button-delete"><i class="fa fa-trash"></i></button></a>

					    <a href="{% url 'list_collection_collection_authorisation' collection.collection_id %}"><button class="button button-auth"><i class="fa fa-universal-access"></i></button></a>
	
		        {% if collection.collection_active == True %}

			        {% if collection.collection_owner == credential_flag %}
		        
					    <a href="{% url 'activate_collection' collection.collection_id %}" onclick="return confirm('Are you sure you want to ACTIVATE this COLLECTION?')"><button class="button button-add"><i class="fa fa-bell"></i></button></a>

					{% else %}
	
					{% endif %}
				
				{% else %}
	
			        {% if collection.collection_owner == credential_flag %}
		        
					    <button class="button button-delete"><i class="fa fa-bell"></i></button>

					{% else %}
	
					{% endif %}

				{% endif %}
				
			{% endif %}
	
				    </td>

		{% endif %}

				    <td>{{ collection.collection_id }}</td>
    				<td>{{ collection.collection_title }}</td>
	    			<td>{{ collection.collection_image_count }}</td>
		    		<td>{{ collection.collection_owner }}</td>
			    	<td>{{ collection.collection_active }}</td>
				    <td>{{ collection.authorisation_authority }}</td>

    			</tr>

		{% if forloop.last %}
	
	    		<tr>

		    		<td>&nbsp;</td>
			    	<td>&nbsp;</td>
				    <td>&nbsp;</td>
    				<td>&nbsp;</td>
	    			<td>&nbsp;</td>
		    		<td>&nbsp;</td>

			    </tr>

    			<tr>

			{% if credential_flag %}
	
	    			<td>
		    			<a href="{% url 'new_collection' %}"><button class="button button-add"><i class="fa fa-plus"></i></button></a>
			    	</td>

			{% else %}

				    <td>&nbsp;</td>

			{% endif %}

    				<td>&nbsp;</td>
	    			<td>&nbsp;</td>
		    		<td>&nbsp;</td>
			    	<td>&nbsp;</td>

    			</tr>

	    	</table>

		{% endif %}
	
	{% endfor %}

{% else %}

    		<p>No Collections are available.</p>

	{% if credential_flag %}
	
	    	<p>
		    	<a href="{% url 'new_collection' %}"><button class="button button-add"><i class="fa fa-plus"></i></button></a>
    		</p>

	{% else %}

	    	<p>You are not authorised to add Collections yet!</p>

	{% endif %}

{% endif %}

    	</div>


	</div>

	<div class="standard-grid-item">
	</div>

</div>

<br />
<br />
<br />
<br />
<br />

<script type="text/javascript">

function openTab(evt, tabName) {

    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");

    for (i = 0; i < tabcontent.length; i++) {

        tabcontent[i].style.display = "none";
    }

    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");

    for (i = 0; i < tablinks.length; i++) {

        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();   

</script>

{% endblock %}
