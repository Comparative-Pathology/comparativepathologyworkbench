{% extends 'includes/base.html' %}

{% load custom %}

{% load static %}

{% block content %}

<div class="row">

	<div class="col-md-12">

		<div>

			<ol class="breadcrumb subheading">
	
				<li class="breadcrumb-item">
					<a href="{% url 'matrices:home' %}">
						Home
					</a>
				</li>
	
				<li class="breadcrumb-item active">
					{{ text_flag }} Benches
				</li>
	
			</ol>
	
		</div>

	</div>

</div>

<div class="row row-no-padding" id="row-main">

	<div class="col-md-1 visible" id="sidebar">

	</div>

	<div class="col-md-9">

		<h1>Browse {{ text_flag }} Benches</h1>
		<br />

		<p>Browse the list of {{ text_flag }} Benches</p>

		<hr>

{% if out_matrix_list %}

	{% for out_matrix in out_matrix_list %}
	
		{% if forloop.first %}
	
    	<table>
        	<tr>
            	<th width="250px">Action</th>
    	        <th width="150px">Id:</th>
	            <th width="150px">Owner:</th>
	            <th width="150px">Authority:</th>
        	    <th>Title:</th>
			</tr>
    
    	    <tr>
        	    <td>&nbsp;</td>
            	<td>&nbsp;</td>
	            <td>&nbsp;</td>
    	        <td>&nbsp;</td>
			</tr>

		{% endif %}
	
	        <tr>

		{% if credential_flag == '' %}

	            <td>&nbsp;</td>

		{% else %}

    	        <td>

			{% if out_matrix.authorisation_authority == 'VIEWER' %}

					<a href="{% url 'matrices:matrix' out_matrix.matrix_id %}">	            	
	        	    	<button class="save btn btn-info"><i class="fa fa-eye"></i></button>
					</a>
					<a href="{% url 'matrices:detail_matrix' out_matrix.matrix_id %}">
						<button class="save btn btn-primary"><i class="fa fa-info"></i></button>
					</a>

			{% endif %}
	
			{% if out_matrix.authorisation_authority == 'EDITOR' %}

					<a href="{% url 'matrices:matrix' out_matrix.matrix_id %}">	            	
	        	    	<button class="save btn btn-info"><i class="fa fa-eye"></i></button>
					</a>
					<a href="{% url 'matrices:detail_matrix' out_matrix.matrix_id %}">
						<button class="save btn btn-primary"><i class="fa fa-info"></i></button>
					</a>
					<a href="{% url 'matrices:edit_matrix' out_matrix.matrix_id %}">
						<button class="save btn btn-warning"><i class="fa fa-edit"></i></button>
					</a>
					<a href="{% url 'matrices:delete_matrix' out_matrix.matrix_id %}" onclick="return confirm('Are you sure you want to DELETE this MATRIX?')">
						<button class="save btn btn-danger"><i class="fa fa-trash"></i></button>
					</a>

			{% endif %}
	
			{% if out_matrix.authorisation_authority == 'OWNER' %}

					<a href="{% url 'matrices:matrix' out_matrix.matrix_id %}">	            	
	        	    	<button class="save btn btn-info"><i class="fa fa-eye"></i></button>
					</a>
					<a href="{% url 'matrices:detail_matrix' out_matrix.matrix_id %}">
						<button class="save btn btn-primary"><i class="fa fa-info"></i></button>
					</a>
					<a href="{% url 'matrices:edit_matrix' out_matrix.matrix_id %}">
						<button class="save btn btn-warning"><i class="fa fa-edit"></i></button>
					</a>
					<a href="{% url 'matrices:delete_matrix' out_matrix.matrix_id %}" onclick="return confirm('Are you sure you want to DELETE this MATRIX?')">
						<button class="save btn btn-danger"><i class="fa fa-trash"></i></button>
					</a>
					<a href="{% url 'matrices:list_bench_authorisation' out_matrix.matrix_id %}">
						<button class="save btn btn-info"><i class="fa fa-universal-access"></i></button>
					</a>

			{% endif %}
	
			{% if out_matrix.authorisation_authority == 'ADMIN' %}

					<a href="{% url 'matrices:matrix' out_matrix.matrix_id %}">	            	
	        	    	<button class="save btn btn-info"><i class="fa fa-eye"></i></button>
					</a>
					<a href="{% url 'matrices:detail_matrix' out_matrix.matrix_id %}">
						<button class="save btn btn-primary"><i class="fa fa-info"></i></button>
					</a>
					<a href="{% url 'matrices:edit_matrix' out_matrix.matrix_id %}">
						<button class="save btn btn-warning"><i class="fa fa-edit"></i></button>
					</a>
					<a href="{% url 'matrices:delete_matrix' out_matrix.matrix_id %}" onclick="return confirm('Are you sure you want to DELETE this MATRIX?')">
						<button class="save btn btn-danger"><i class="fa fa-trash"></i></button>
					</a>
					
					<a href="{% url 'matrices:list_bench_authorisation' out_matrix.matrix_id %}">
						<button class="save btn btn-info"><i class="fa fa-universal-access"></i></button>
					</a>
	
			{% endif %}
	
	            </td>

		{% endif %}

        	    <td>CPW:{{ out_matrix.matrix_id|stringformat:"06d" }}</td>
    	        <td>{{ out_matrix.matrix_owner }}</td>
    	        <td>{{ out_matrix.authorisation_authority }}</td>
            	<td>{{ out_matrix.matrix_title }}</td>

			</tr>

		{% if forloop.last %}
	
    	    <tr>

        	    <td>&nbsp;</td>
            	<td>&nbsp;</td>
	            <td>&nbsp;</td>
    	        <td>&nbsp;</td>

			</tr>

    	    <tr>

			{% if credential_flag %}
    
        	    <td>
					<a href="{% url 'matrices:new_matrix' %}">
						<button class="save btn btn-success"><i class="fa fa-plus"></i></button>
					</a>
    	        </td>

			{% else %}

	            <td>&nbsp;</td>

			{% endif %}

	            <td>&nbsp;</td>
    	        <td>&nbsp;</td>
        	    <td>&nbsp;</td>

			</tr>

	    </table>

		{% endif %}
	
    {% endfor %}

{% else %}

		<p>No Benches are available.</p>

	{% if credential_flag %}
    
	    <p>
			<a href="{% url 'matrices:new_matrix' %}">
				<button class="save btn btn-success"><i class="fa fa-plus"></i></button>
			</a>
    	</p>

	{% else %}

	    <p>You are not authorised to add Benches yet!
    	</p>

	{% endif %}

{% endif %}

	</div>

	<div class="col-md-2">

	</div>

</div>

{% endblock %}
